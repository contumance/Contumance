<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-i18n="doc_title">Re:sonance — A quiet selection for curious hands.</title>
  <meta name="description" content="Re:sonance — An experimental library of sound, color, and quiet motion. Paths of vibration that awaken new forms of listening." data-i18n-attr="content" data-i18n="doc_description" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>☰</text></svg>">
  <link rel="stylesheet" href="assets/kindle.css">
</head>
<body class="home">
  <main>
    <section class="hero" aria-labelledby="siteTitle">
      <div class="hero-surface">
        <header class="header hero-header">
          <div>
            <h1 id="siteTitle">Re:sonance</h1>
            <p class="desc" data-i18n="tagline">A quiet selection for curious hands.</p>
          </div>
          <div class="header-controls">
            <label class="visually-hidden" for="langSelect" data-i18n="lang_label">Language</label>
            <select id="langSelect" class="lang-select" aria-label="Language" title="Language">
              <option value="en">EN</option>
              <option value="es">ES</option>
              <option value="pt">PT</option>
            </select>
            <button class="theme-toggle" id="themeToggle" type="button" aria-label="Toggle theme" title="Toggle theme">☾</button>
          </div>
        </header>

        <div class="hero-intro">
          <p data-i18n="intro_blurb">Re:sonance is a growing collection of playful musical tools, crafted to spark fresh listening rituals and shared explorations.</p>
          <div class="hero-glance" aria-hidden="true">
            <span data-i18n="section_books">Books</span>
            <span data-i18n="section_lab">Laboratory</span>
          </div>
        </div>
      </div>
    </section>

    <hr class="divider">

    <nav class="library" aria-label="Library">
      <section class="collection-group">
        <div class="collection-surface">
          <div class="collection-header">
            <h2 class="section-title" data-i18n="section_books">Books</h2>
          </div>
          <ul class="index index-grid">

            <!-- SCALES -->
            <li>
              <a class="item" href="the-scales-book.html">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" fill="currentColor">
                  <circle cx="5" cy="16" r="1.6"></circle>
                  <circle cx="9.5" cy="13.2" r="1.6"></circle>
                  <circle cx="14" cy="10.6" r="1.6"></circle>
                  <circle cx="18.5" cy="8" r="1.6"></circle>
                </svg>
                <span class="title" data-i18n="app_scales_title">The Scales Book</span>
                <span class="meta" data-i18n="app_scales_meta">Paths that guide the hand toward unseen colors.</span>
              </a>
            </li>

            <!-- CHORDS -->
            <li>
              <a class="item" href="the-chords-book.html">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="6" cy="17" r="2.4"></circle>
                  <circle cx="18" cy="17" r="2.4"></circle>
                  <circle cx="12" cy="7" r="2.4"></circle>
                  <path d="M7.9 16.2 L10.4 8.8 M16.1 16.2 L13.6 8.8" />
                </svg>
                <span class="title" data-i18n="app_chords_title">The Chords Book</span>
                <span class="meta" data-i18n="app_chords_meta">Forms of resonance across the strings.</span>
              </a>
            </li>

            <!-- DAILY CHORD -->
            <li>
              <a class="item" href="the-daily-chord.html">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="3.5" y="6" width="17" height="13" rx="1.8"></rect>
                  <path d="M7 4 v3 M17 4 v3 M3.5 9 h17" />
                  <path d="M12 13.1 v-1.7 M12 13.1 l1.15 1.15 M12 13.1 l-1.15 1.15 M12 13.1 v1.7" />
                </svg>
                <span class="title" data-i18n="app_daily_title">The Daily Chord</span>
                <span class="meta" data-i18n="app_daily_meta">Each day, a chord — seen anew, to awaken inspiration.</span>
              </a>
            </li>
          </ul>
        </div>
      </section>

      <section class="collection-group">
        <div class="collection-surface">
          <div class="collection-header">
            <h2 class="section-title" data-i18n="section_lab">Laboratory</h2>
            <p class="note" data-i18n="lab_note">These tools are currently in an experimental phase.</p>
          </div>
          <ul class="index index-grid">

            <!-- BOUNCE GARDEN -->
            <li>
              <a class="item" href="the-bounce-garden.html">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.5">
                  <circle cx="12" cy="12" r="9" />
                  <circle cx="8" cy="10" r="1.2" />
                  <circle cx="16" cy="14" r="1.2" />
                </svg>
                <span class="title" data-i18n="app_bounce_title">The Bounce Garden</span>
                <span class="meta" data-i18n="app_bounce_meta">Where collisions sing — melodic orbits and rhythmic echoes within a circle.</span>
              </a>
            </li>

            <!-- MODAL ARCHITECT -->
            <li>
              <a class="item" href="modal-architect.html">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="3" y="10" width="5" height="10" rx="0.8"></rect>
                  <rect x="10" y="6" width="4" height="14" rx="0.8"></rect>
                  <rect x="16" y="3" width="5" height="17" rx="0.8"></rect>
                  <path d="M3 10 L10 6 L16 3" />
                  <path d="M8 20 L14 20 L21 20" />
                </svg>
                <span class="title" data-i18n="app_modal_title">The Modal Architect</span>
                <span class="meta" data-i18n="app_modal_meta">Design harmonic structures from scale geometry.</span>
              </a>
            </li>

            <!-- POLYRHYTHM FORGE -->
            <li>
              <a class="item" href="polyrhythm-forge.html">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="8.5" />
                  <circle cx="12" cy="12" r="5.5" />
                  <circle cx="12" cy="12" r="2.5" />
                  <line x1="12" y1="12" x2="12" y2="3.5" />
                  <circle cx="12" cy="3.5" r="1.1" fill="currentColor" stroke="none"/>
                  <circle cx="19.5" cy="12" r="0.9" fill="currentColor" stroke="none"/>
                  <circle cx="12" cy="20.5" r="0.9" fill="currentColor" stroke="none"/>
                  <circle cx="4.5" cy="12" r="0.9" fill="currentColor" stroke="none"/>
                </svg>
                <span class="title" data-i18n="app_poly_title">The Polyrhythm Forge</span>
                <span class="meta" data-i18n="app_poly_meta">Concentric rings for polyrhythms & polymeters — Mesh-ish grooves, Euclidean accents, swing & pan.</span>
              </a>
            </li>

            <!-- RIFF FORGE -->
            <li>
              <a class="item" href="riff-forge.html">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M5 4.5 C4 8.5 4 13.5 5 17.5 C5.6 19.9 8.1 21 10.4 20 L17 17.3 C19.1 16.4 20.5 14.3 20.5 12 C20.5 9.7 19.1 7.6 17 6.7 L10.4 4 C8.1 3 5.6 4.1 5 6.5 Z" />
                  <line x1="9.5" y1="7.5" x2="14.5" y2="16.5" />
                  <line x1="7.8" y1="9.2" x2="12.8" y2="18.2" />
                  <line x1="11.2" y1="6.2" x2="16.2" y2="15.2" />
                </svg>
                <span class="title" data-i18n="app_riff_title">The Riff Forge</span>
                <span class="meta" data-i18n="app_riff_meta">Heavy riff generator — tunings, djent leaning grids, syncopation & instant MIDI.</span>
              </a>
            </li>

            <!-- MODERN RIFF LIBRARY -->
            <li>
              <a class="item" href="modern-djent-riff-library.html">
                <svg class="icon" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round">
                  <rect x="4" y="6" width="4" height="12" rx="1.2"></rect>
                  <rect x="10" y="3" width="4" height="15" rx="1.2"></rect>
                  <rect x="16" y="8" width="4" height="9" rx="1.2"></rect>
                  <path d="M4 16 L8 14 L12 16 L16 13 L20 15" />
                </svg>
                <span class="title">Modern Djent Riff Library</span>
                <span class="meta">Loop view + audio playback of curated djent riffs.</span>
              </a>
            </li>

          </ul>
        </div>
      </section>
    </nav>

    <footer>
      <a class="btn" href="https://buymeacoffee.com/Contumance" 
        target="_blank" rel="noopener noreferrer"
         aria-label="Support this library on Buy Me a Coffee">
        
        <svg class="btn-icon" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M4 8h14.5a2 2 0 0 1 0 4H18l-1 5a4 4 0 0 1-3.95 3.3H8.95A4 4 0 0 1 5 17l-1-9z"/>
          <path d="M3 8h17"/>
          <path d="M7 4h6"/>
        </svg>
        <span data-i18n="buyme">Buy me a coffee</span>
      </a>
      <span data-i18n="footer_note" class="note">Fuel the craft. Inspire the next page.</span>
      <span>© <span id="y"></span> Re:sonance <small class="byline">by <em>Contumance</em></small></span>
    </footer>
  </main>

  <script src="assets/i18n.js"></script>
  <script>
    const indexMessages = {
      en: {
        doc_title: "Re:sonance — A quiet selection for curious hands.",
        doc_description: "Re:sonance — An experimental library of sound, color, and quiet motion. Paths of vibration that awaken new forms of listening.",
        tagline: "A quiet selection for curious hands.",
        intro_blurb: "Re:sonance is a growing collection of playful musical tools, crafted to spark fresh listening rituals and shared explorations.",
        section_books: "Books",
        section_lab: "Laboratory",
        lab_note: "These tools are currently in an experimental phase.",
        app_scales_title: "The Scales Book",
        app_scales_meta: "Paths that guide the hand toward unseen colors.",
        app_chords_title: "The Chords Book",
        app_chords_meta: "Forms of resonance across the strings.",
        app_daily_title: "The Daily Chord",
        app_daily_meta: "Each day, a chord — seen anew, to awaken inspiration.",
        app_bounce_title: "The Bounce Garden",
        app_bounce_meta: "Where collisions sing — melodic orbits and rhythmic echoes within a circle.",
        app_modal_title: "The Modal Architect",
        app_modal_meta: "Design harmonic structures from scale geometry.",
        app_poly_title: "The Polyrhythm Forge",
        app_poly_meta: "Concentric rings for polyrhythms & polymeters — Mesh-ish grooves, Euclidean accents, swing & pan.",
        app_riff_title: "The Riff Forge",
        app_riff_meta: "Heavy riff generator — tunings, Djent-leaning grids, syncopation & instant MIDI.",
        buyme: "Buy me a coffee",
        buyme_aria: "Support this library on Buy Me a Coffee",
        footer_note: "Fuel the craft. Inspire the next page.",
        lang_label: "Language",
        theme_to_light: "Switch to light mode",
        theme_to_dark: "Switch to dark mode"
      },
      es: {
        doc_title: "Re:sonance — Una selección silenciosa para manos curiosas.",
        doc_description: "Re:sonance — Una biblioteca experimental de sonido, color y movimiento sutil. Senderos de vibración que despiertan nuevas formas de escuchar.",
        tagline: "Una sutil selección para manos curiosas.",
        intro_blurb: "Re:sonance es una colección en crecimiento de herramientas musicales lúdicas, creada para encender nuevos rituales de escucha y exploraciones compartidas.",
        section_books: "Libros",
        section_lab: "Laboratorio",
        lab_note: "Estas herramientas se encuentran en fase de experimentación.",
        app_scales_title: "The Scales Book",
        app_scales_meta: "Caminos que guían la mano hacia nuevos colores.",
        app_chords_title: "The Chords Book",
        app_chords_meta: "Formas de resonancia a lo largo de las cuerdas.",
        app_daily_title: "The Daily Chord",
        app_daily_meta: "Cada día, un acorde, para despertar inspiración.",
        app_bounce_title: "The Bounce Garden",
        app_bounce_meta: "Donde las colisiones resuenan — órbitas melódicas y ecos rítmicos dentro de un círculo.",
        app_modal_title: "The Modal Architect",
        app_modal_meta: "Diseña estructuras armónicas desde la geometría de las escalas.",
        app_poly_title: "The Polyrhythm Forge",
        app_poly_meta: "Anillos concéntricos para polirritmos y polímetros — grooves, acentos euclídeos, swing y paneo.",
        app_riff_title: "The Riff Forge",
        app_riff_meta: "Generador de riffs pesados — afinaciones, grids al estilo Djent, sincopas y MIDI al instante.",
        buyme: "Invítame un café",
        buyme_aria: "Apoya esta biblioteca en Buy Me a Coffee",
        footer_note: "Alimenta la creación. Inspira la próxima página.",
        lang_label: "Idioma",
        theme_to_light: "Cambiar a modo claro",
        theme_to_dark: "Cambiar a modo oscuro"
      },
      pt: {
        doc_title: "Re:sonance — Uma seleção silenciosa para mãos curiosas.",
        doc_description: "Re:sonance — Uma biblioteca experimental de som, cor e movimento sutil. Caminhos de vibração que despertam novas formas de escutar.",
        tagline: "Uma seleção silenciosa para mãos curiosas.",
        intro_blurb: "Re:sonance é uma coleção crescente de ferramentas musicais lúdicas, criada para acender novos rituais de escuta e explorações compartilhadas.",
        section_books: "Livros",
        section_lab: "Laboratório",
        lab_note: "Estas ferramentas estão em fase experimental.",
        app_scales_title: "The Scales Book",
        app_scales_meta: "Caminhos que guiam a mão a cores invisíveis.",
        app_chords_title: "The Chords Book",
        app_chords_meta: "Formas de ressonância através das cordas.",
        app_daily_title: "The Daily Chord",
        app_daily_meta: "A cada dia, um acorde — visto de novo, para despertar inspiração.",
        app_bounce_title: "The Bounce Garden",
        app_bounce_meta: "Onde colisões cantam — órbitas melódicas e ecos rítmicos dentro de um círculo.",
        app_modal_title: "The Modal Architect",
        app_modal_meta: "Desenhe estruturas harmônicas a partir da geometria das escalas.",
        app_poly_title: "The Polyrhythm Forge",
        app_poly_meta: "Anéis concêntricos para polirritmos e polímetros — grooves tipo Mesh, acentos euclidianos, swing e pan.",
        app_riff_title: "The Riff Forge",
        app_riff_meta: "Gerador de riffs pesados — afinações, grids Djent-like, síncopes e MIDI imediato.",
        buyme: "Pague-me um café",
        buyme_aria: "Apoie esta biblioteca no Buy Me a Coffee",
        footer_note: "Alimente o ofício. Inspire a próxima página.",
        lang_label: "Idioma",
        theme_to_light: "Alternar para modo claro",
        theme_to_dark: "Alternar para modo escuro"
      }
    };

    window.tr = (key, fallback) => (window.ReI18n ? ReI18n.t(key, fallback) : (fallback || key));
    ReI18n.init({
      messages: indexMessages,
      select: document.getElementById('langSelect')
    });
  </script>

  <script>
    // --- THEME TOGGLE (después de i18n + con safeTr) ---
    (function(){
      const KEY='theme-preference';
      const root=document.documentElement;
      const btn=document.getElementById('themeToggle');
      const safeTr=(k,f)=> (window.tr ? window.tr(k,f) : (f||k));

      function setIcon(mode){
        if(!btn) return;
        btn.textContent = mode==='dark' ? '☀︎' : '☾';
        const label = mode==='dark'
          ? safeTr('theme_to_light', 'Switch to light mode')
          : safeTr('theme_to_dark', 'Switch to dark mode');
        btn.setAttribute('aria-label', label);
        btn.setAttribute('title', label);
      }
      function applyTheme(mode){
        root.classList.toggle('theme-dark', mode==='dark');
        setIcon(mode);
      }
      function getPreferred(){
        const saved=localStorage.getItem(KEY);
        if(saved==='light' || saved==='dark') return saved;
        return (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light';
      }
      let current=getPreferred();
      applyTheme(current);

      if(btn){
        btn.addEventListener('click', ()=>{
          current = current==='dark' ? 'light' : 'dark';
          localStorage.setItem(KEY,current);
          applyTheme(current);
        });
      }
      if(window.ReI18n){
        ReI18n.onChange(()=>{ setIcon(current); });
      }
      const y=document.getElementById('y');
      if(y) y.textContent = new Date().getFullYear();
    })();
  </script>
</body>
</html>
