<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Re:sonance — Intro Orbit</title>
<meta name="description" content="Re:sonance — A quiet selection for curious hands. Minimal intro scene with concentric icons and subtle motion." />
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>☰</text></svg>">

<style>
  /* ====== Tokens (alineados con tu index) ====== */
  :root{
    --paper:#f5f1e8; --ink:#2f2a1e; --muted:#6b6253; --link:#2d5842;
    --link-visited:#514f7a; --accent:#a08a63; --lh:1.6; --fs:18px;

    /* Scene */
    --size: min(92vmin, 720px);    /* cuadrado responsivo */
    --ring-1: 28%;                 /* radios de las órbitas */
    --ring-2: 42%;
    --ring-3: 58%;
    --glow: rgba(160,138,99,0.25); /* halo suave */
  }
  html.theme-dark{
    --paper:#0e0f0e; --ink:#dbd6c9; --muted:#9b9689; --link:#a9d0b8;
    --link-visited:#c0b8e0; --accent:#242523;
    --glow: rgba(169,208,184,0.22);
  }

  html{font-size:var(--fs)}
  body{
    margin:0; color:var(--ink); background:var(--paper);
    font-family: ui-serif, Georgia, "Iowan Old Style", "Palatino Linotype", Palatino, serif;
    line-height:var(--lh); text-rendering:optimizeLegibility; -webkit-font-smoothing:antialiased;
    display:grid; place-items:center; min-height:100svh;
    overflow:hidden;
  }
  /* textura sutil */
  body::before{
    content:""; position:fixed; inset:0; pointer-events:none; opacity:.06;
    background-image:
      radial-gradient(circle at 25% 15%, #000 .5px, transparent .5px),
      radial-gradient(circle at 75% 85%, #000 .5px, transparent .5px);
    background-size:3px 3px, 3px 3px; mix-blend-mode:multiply;
  }

  /* ====== Controles ====== */
  .controls{
    position: fixed; top: clamp(8px, 2vmin, 16px); right: clamp(8px, 2vmin, 16px);
    display:flex; gap:.5rem; z-index:10;
  }
  .btn{
    border:1px solid var(--accent); background:transparent; color:var(--ink);
    border-radius:.45rem; padding:.4rem .6rem; cursor:pointer; font-size:1rem; line-height:1;
    transition:background-color .25s ease, transform .06s ease;
  }
  .btn:hover{ transform: translateY(-1px) }
  .btn:active{ transform: translateY(0) }
  .btn:focus-visible{ outline:2px dashed var(--accent); outline-offset:2px }

  /* ====== Escena cuadrada ====== */
  .stage{
    width:var(--size); aspect-ratio:1/1; position:relative; border-radius:16px;
    display:grid; place-items:center; overflow:hidden;
    /* sutil viñeta + halo */
    background:
      radial-gradient(60% 60% at 50% 45%, color-mix(in oklab, var(--paper) 94%, var(--accent) 6%), var(--paper) 68%),
      radial-gradient(100% 100% at 50% 120%, color-mix(in oklab, #000 8%, transparent 92%), transparent 60%);
    box-shadow:
      inset 0 0 80px 0 color-mix(in oklab, var(--accent) 8%, transparent),
      0 1px 0 rgba(0,0,0,.06);
    isolation:isolate;
  }
  /* luz que barre (muy sutil) */
  .stage::before{
    content:""; position:absolute; inset:-20%;
    background: conic-gradient(from 0turn, transparent 0 70%, color-mix(in oklab, var(--glow) 100%, transparent) 82%, transparent 100%);
    mix-blend-mode:soft-light; opacity:.6;
    animation: sweep 24s linear infinite;
    transform: translateZ(0);
  }

  /* Centro: título + claim */
  .logo{
    text-align:center; z-index:2; max-width:80%;
    filter: drop-shadow(0 0 10px color-mix(in oklab, var(--glow) 60%, transparent));
  }
  .logo h1{
    margin:0; font-weight:600; letter-spacing:.2px;
    font-size:clamp(1.8rem, 6.2vmin, 3rem); line-height:1.05;
  }
  .logo .accent{
    background-image:linear-gradient(currentColor,currentColor);
    background-position:0 100%; background-repeat:no-repeat; background-size:100% 1px;
  }
  .logo p{
    margin:.5rem auto 0; color:var(--muted); font-style:italic; max-width:32ch;
    font-size:clamp(.95rem, 1.8vmin, 1.05rem);
  }

  /* Anillos */
  .ring{
    position:absolute; inset:0; margin:auto; width:100%; height:100%; pointer-events:none;
    display:block; z-index:1;
  }
  .ring svg.orbit{
    position:absolute; inset:0; margin:auto; width:100%; height:100%; pointer-events:none;
    opacity:.25; filter: blur(.2px) drop-shadow(0 0 4px var(--glow));
  }
  .ring[data-r="1"]{ --R: var(--ring-1); animation: spin 46s linear infinite; }
  .ring[data-r="2"]{ --R: var(--ring-2); animation: spin-rev 64s linear infinite; }
  .ring[data-r="3"]{ --R: var(--ring-3); animation: spin 82s linear infinite; }

  /* Items en órbita */
  .ring .item{
    position:absolute; left:50%; top:50%;
    transform:
      rotate(calc(var(--angle)*1deg))
      translateX(var(--R))
      rotate(calc(var(--angle)*-1deg));
    transform-origin: 0 0;
    display:inline-grid; place-items:center; pointer-events:auto; text-decoration:none;
    color:var(--link);
  }
  .ring .icon-wrap{
    display:grid; place-items:center; width:2.25rem; height:2.25rem; border-radius:999px;
    background: color-mix(in oklab, var(--paper) 80%, var(--accent) 20%);
    border:1px solid var(--accent); box-shadow: 0 0 0 2px color-mix(in oklab, var(--paper) 60%, transparent);
    transition: transform .15s ease, filter .2s ease, background-color .25s ease;
  }
  .ring .item:hover .icon-wrap{ transform: scale(1.06); filter: brightness(1.02) }

  .icon{ width:1.25rem; height:1.25rem; display:block; }

  /* Etiquetas flotantes (opcionales, para vídeo) */
  .label{
    position:absolute; top: calc(50% + var(--R) + 10px); left:50%; transform: translateX(-50%);
    font-size:.8rem; color:var(--muted); text-align:center; white-space:nowrap; opacity:.9;
    pointer-events:none;
  }

  /* Footer de invitación */
  .invite{
    position:fixed; left:50%; bottom: clamp(10px, 2.5vmin, 20px);
    transform:translateX(-50%); color:var(--muted); text-align:center; max-width:70ch;
    padding:.35rem .6rem; border:1px dashed color-mix(in oklab, var(--accent) 55%, transparent);
    background: color-mix(in oklab, var(--paper) 70%, transparent);
    border-radius:.5rem; font-size:.95rem; backdrop-filter: blur(2px);
  }

  /* Estados */
  .paused .ring,
  .paused .stage::before{ animation-play-state: paused !important }

  /* Motion safety */
  @media (prefers-reduced-motion: reduce){
    .ring, .stage::before{ animation:none !important }
    .ring .item{ transform: translate(-50%,-50%) !important }
  }

  /* ====== Keyframes ====== */
  @keyframes spin{ to{ transform: rotate(360deg) } }
  @keyframes spin-rev{ to{ transform: rotate(-360deg) } }
  @keyframes sweep{ to{ transform: rotate(1turn) } }
</style>
</head>
<body>

  <!-- Controles -->
  <div class="controls">
    <button class="btn" id="pauseBtn" title="Pause/Play animation" aria-label="Pause animation">❚❚ Pause</button>
    <button class="btn" id="themeToggle" title="Toggle theme" aria-label="Toggle theme">☾</button>
  </div>

  <!-- Escena principal -->
  <section class="stage" id="stage" aria-label="Re:sonance orbits intro">
    <div class="logo" aria-hidden="false">
      <h1>Re:sonance <span class="accent">— a quiet selection</span></h1>
      <p>Sound, color, and quiet motion. Tools for listening hands.</p>
    </div>

    <!-- Anillo 1 (rápido) -->
    <div class="ring" data-r="1" style="--count:3">
      <svg class="orbit" viewBox="0 0 100 100" aria-hidden="true">
        <circle cx="50" cy="50" r="calc(50 * var(--ring-1) / 50)" fill="none" stroke="currentColor" stroke-width=".2"></circle>
      </svg>

      <!-- The Scales Book -->
      <a class="item" href="the-scales-book.html" style="--angle: 0">
        <span class="icon-wrap" title="The Scales Book">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <circle cx="5" cy="16" r="1.6"></circle>
            <circle cx="9.5" cy="13.2" r="1.6"></circle>
            <circle cx="14" cy="10.6" r="1.6"></circle>
            <circle cx="18.5" cy="8" r="1.6"></circle>
          </svg>
        </span>
      </a>

      <!-- The Chords Book -->
      <a class="item" href="the-chords-book.html" style="--angle: 120">
        <span class="icon-wrap" title="The Chords Book">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
            <circle cx="6" cy="17" r="2.4"></circle>
            <circle cx="18" cy="17" r="2.4"></circle>
            <circle cx="12" cy="7" r="2.4"></circle>
            <path d="M7.9 16.2 L10.4 8.8 M16.1 16.2 L13.6 8.8" />
          </svg>
        </span>
      </a>

      <!-- The Daily Chord -->
      <a class="item" href="the-daily-chord.html" style="--angle: 240">
        <span class="icon-wrap" title="The Daily Chord">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
            <rect x="3.5" y="6" width="17" height="13" rx="1.8"></rect>
            <path d="M7 4 v3 M17 4 v3 M3.5 9 h17" />
            <path d="M12 13.1 v-1.7 M12 13.1 l1.15 1.15 M12 13.1 l-1.15 1.15 M12 13.1 v1.7" />
          </svg>
        </span>
      </a>
    </div>

    <!-- Anillo 2 (medio, sentido inverso) -->
    <div class="ring" data-r="2" style="--count:2">
      <svg class="orbit" viewBox="0 0 100 100" aria-hidden="true">
        <circle cx="50" cy="50" r="calc(50 * var(--ring-2) / 50)" fill="none" stroke="currentColor" stroke-width=".2"></circle>
      </svg>

      <!-- The Drone Room -->
      <a class="item" href="the-drone-room.html" style="--angle: 40">
        <span class="icon-wrap" title="The Drone Room">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
            <circle cx="12" cy="12" r="7"></circle>
            <path d="M12 5 v2 M12 17 v2 M5 12 h2 M17 12 h2"/>
          </svg>
        </span>
      </a>

      <!-- The Intervals Garden -->
      <a class="item" href="the-intervals-garden.html" style="--angle: 220">
        <span class="icon-wrap" title="The Intervals Garden">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
            <circle cx="8" cy="12" r="2.2"></circle>
            <circle cx="16" cy="8" r="2.2"></circle>
            <path d="M9.8 11.2 C12 9 14 9 15.4 8.6"/>
          </svg>
        </span>
      </a>
    </div>

    <!-- Anillo 3 (lento) -->
    <div class="ring" data-r="3" style="--count:2">
      <svg class="orbit" viewBox="0 0 100 100" aria-hidden="true">
        <circle cx="50" cy="50" r="calc(50 * var(--ring-3) / 50)" fill="none" stroke="currentColor" stroke-width=".2"></circle>
      </svg>

      <!-- Aural Garden -->
      <a class="item" href="the-aural-garden.html" style="--angle: 300">
        <span class="icon-wrap" title="Aural Garden">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
            <path d="M4 14c2-6 14-6 16 0"/>
            <path d="M6 16c1.4-3 10.6-3 12 0"/>
            <circle cx="12" cy="18" r="1.2" />
          </svg>
        </span>
      </a>

      <!-- The Tuning Archive -->
      <a class="item" href="the-tuning-archive.html" style="--angle: 120">
        <span class="icon-wrap" title="The Tuning Archive">
          <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true">
            <path d="M4 18h16M6 14h12M8 10h8M10 6h4"/>
            <circle cx="12" cy="6" r=".8"/>
          </svg>
        </span>
      </a>
    </div>
  </section>

  <!-- Copy de invitación -->
  <p class="invite" aria-live="polite">
    Explore the library: scales, chords, drones & color. Minimal tools for deeper listening — try a page and let your hands wander.
  </p>

<script>
  (function(){
    const KEY='theme-preference';
    const root=document.documentElement;
    const stage=document.getElementById('stage');
    const themeBtn=document.getElementById('themeToggle');
    const pauseBtn=document.getElementById('pauseBtn');

    function setIcon(mode){
      themeBtn.textContent = mode==='dark' ? '☀︎' : '☾';
      themeBtn.setAttribute('aria-label', mode==='dark' ? 'Switch to light mode' : 'Switch to dark mode');
      themeBtn.setAttribute('title', mode==='dark' ? 'Switch to light mode' : 'Switch to dark mode');
    }
    function applyTheme(mode){ root.classList.toggle('theme-dark', mode==='dark'); setIcon(mode); }
    function getPreferred(){
      const saved=localStorage.getItem(KEY);
      if(saved==='light' || saved==='dark') return saved;
      return (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light';
    }
    let current=getPreferred(); applyTheme(current);
    themeBtn.addEventListener('click', ()=>{ current = current==='dark' ? 'light' : 'dark'; localStorage.setItem(KEY,current); applyTheme(current); });

    // Pause/Play (útil para capturar frame perfecto en el video)
    let paused=false;
    function togglePause(){
      paused=!paused;
      stage.classList.toggle('paused', paused);
      pauseBtn.textContent = paused ? '▶︎ Play' : '❚❚ Pause';
      pauseBtn.setAttribute('aria-label', paused ? 'Play animation' : 'Pause animation');
    }
    pauseBtn.addEventListener('click', togglePause);

    // Atajos: T = theme, P = pause
    window.addEventListener('keydown', (e)=>{
      const k=e.key.toLowerCase();
      if(k==='t'){ themeBtn.click(); }
      if(k==='p'){ togglePause(); }
    });
  })();
</script>
</body>
</html>