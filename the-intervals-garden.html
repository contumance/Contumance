<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Intervals Garden ‚Äî Re:sonance</title>
  <meta name="description" content="The Intervals Garden ‚Äî where distances become colors. Plant and listen to intervals with a calm e-ink aesthetic." />
  <link rel="icon"
        href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>‚ô™</text></svg>">
  <style>
    :root{
      --paper:#f5f1e8; --ink:#2f2a1e; --muted:#6b6253;
      --link:#2d5842; --link-visited:#514f7a;
      --accent:#a08a63; --rule:#d8d2c2; --accent-soft:#999;
      --maxw:42rem; --radius:14px; --lh:1.6; --fs-base:18px;
      --hit:#d9c8a6;
    }
    html.theme-dark{
      --paper:#10110f; --ink:#dbd6c9; --muted:#a39c8c;
      --link:#a9d0b8; --link-visited:#c0b8e0;
      --accent:#2a2b27; --rule:#2a2b27; --accent-soft:#7f7a6b;
      --hit:#2a2a22;
    }
    html{font-size:var(--fs-base)}
    body{
      margin:0; padding:0; color:var(--ink); background:var(--paper);
      font-family:ui-serif, Georgia, "Iowan Old Style", "Palatino Linotype", Palatino, serif;
      line-height:var(--lh); text-rendering:optimizeLegibility; -webkit-font-smoothing:antialiased;
    }
    body::before{
      content:""; position:fixed; inset:0; pointer-events:none; opacity:.06;
      background-image:
        radial-gradient(circle at 25% 15%, #000 0.5px, transparent 0.5px),
        radial-gradient(circle at 75% 85%, #000 0.5px, transparent 0.5px);
      background-size:3px 3px, 3px 3px; mix-blend-mode:multiply;
    }
    main{max-width:var(--maxw); margin:0 auto; padding:7vh 1.25rem 4rem;}
    .topbar{display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom:1rem;}
    nav.breadcrumb{font-size:.95rem}
    nav.breadcrumb a{color:var(--link); text-decoration:none; text-underline-offset:2px;}
    h1{margin:.2rem 0 .3rem 0; font-weight:600; font-size:clamp(1.6rem,4vw,2.2rem);}
    .subtitle{color:var(--muted); font-size:.95rem; margin-bottom:.8rem;}

    .theme-toggle{
      border:1px solid var(--accent); background:transparent; color:var(--ink);
      border-radius:.45rem; padding:.35rem .55rem; cursor:pointer; font-size:1.15rem; line-height:1;
    }
    .theme-toggle:focus-visible{outline:2px dashed var(--accent); outline-offset:2px;}
    hr{border:none; border-top:1px solid var(--accent); margin:1.25rem 0; opacity:.5;}

    details.panel{border:1px solid var(--accent); border-radius:.6rem; background:rgba(255,255,255,.6);}
    html.theme-dark details.panel{background:rgba(0,0,0,.1);}
    details.panel>summary{cursor:pointer; list-style:none; padding:.6rem .8rem; font-size:.95rem; font-weight:600; color:var(--ink);}
    details.panel>summary::-webkit-details-marker{display:none;}
    details.panel>summary::after{content:"‚ñæ"; float:right; transition:transform .2s ease;}
    details.panel[open]>summary::after{transform:rotate(180deg);}
    details.panel .panel-body{padding:.6rem .8rem .9rem;}

    .controls{display:grid; gap:8px; align-items:end; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); margin-bottom:8px;}
    .row{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
    label{font-size:12px; opacity:.9;}
    select,button,input[type="number"],input[type="range"],input[type="checkbox"]{
      appearance:none; border:1px solid var(--accent); background:transparent; color:var(--ink);
      padding:10px 12px; border-radius:.5rem; font-family:inherit; font-size:14px; line-height:1; min-width:0;
    }
    button{cursor:pointer}
    button.primary{background:var(--ink); color:var(--paper); border-color:var(--ink);}
    .hint{font-size:.85rem; color:var(--muted);}

    /* Canvas card */
    .garden{
      border:1px solid var(--accent); border-radius:.6rem; background:transparent;
      margin:14px 0 18px; padding:8px;
    }
    .canvas-wrap{position:relative; width:100%; height:56vh; min-height:320px; border:1px solid var(--rule); border-radius:.6rem; overflow:hidden; background:color-mix(in oklab, var(--paper) 94%, var(--ink) 6%);}
    html.theme-dark .canvas-wrap{background:color-mix(in oklab, var(--ink) 90%, var(--paper) 10%);}
    canvas{display:block; width:100%; height:100%;}
    .legend{display:flex; gap:8px; flex-wrap:wrap; align-items:center; margin-top:8px; font-size:.85rem; color:var(--muted);}
    .chip{display:inline-flex; align-items:center; gap:6px; padding:.15rem .5rem; border:1px solid var(--accent); border-radius:999px;}
    .dot{width:.7rem; height:.7rem; border-radius:999px; display:inline-block;}

    /* Footer */
    footer{
      display:flex; flex-direction:column; align-items:center; gap:.25rem; font-size:.9rem; opacity:.9; padding:1.5rem 0;
    }
    footer .btn{
      display:inline-flex; align-items:center; gap:.5rem; text-decoration:none; border:1px solid var(--accent);
      border-radius:999px; padding:.45rem .95rem; font-size:.9rem; font-weight:500;
      transition:background-color .25s ease, color .25s ease, transform .1s ease, filter .2s ease;
    }
    html:not(.theme-dark) footer .btn{background:color-mix(in oklab, var(--accent) 10%, var(--paper) 90%); color:var(--ink);}
    html:not(.theme-dark) footer .btn:hover{background:color-mix(in oklab, var(--accent) 20%, var(--paper) 80%);}
    html.theme-dark footer .btn{background:color-mix(in oklab, var(--accent) 40%, var(--ink) 60%); color:var(--paper);}
    html.theme-dark footer .btn:hover{background:color-mix(in oklab, var(--accent) 55%, var(--ink) 45%);}
    footer .btn .btn-icon{width:1.2rem; height:1.2rem; stroke:currentColor;}
    footer .note{font-size:.85rem;color:var(--muted)}
    footer .byline{font-size:.75rem;opacity:.7}
    footer .byline em{font-style:italic;letter-spacing:.02em}
  </style>
</head>
<body>
  <main>
    <div class="topbar">
      <nav class="breadcrumb" aria-label="Breadcrumb">
        <a href="index.html">‚Üê Back to index</a>
      </nav>
      <div class="row" style="gap:6px;">
        <button class="theme-toggle" id="themeToggle" type="button" aria-label="Toggle theme" title="Toggle theme">üåì</button>
      </div>
    </div>

    <header>
      <h1>The Intervals Garden</h1>
      <div class="subtitle">Where distances become colors.</div>
    </header>

    <details class="panel" open>
      <summary>Garden setup</summary>
      <div class="panel-body">
        <div class="controls" role="group" aria-label="Controls">
          <div class="row">
            <label for="rootSel">Root</label>
            <select id="rootSel"></select>
          </div>
          <div class="row">
            <label for="octSel">Octave</label>
            <input id="octSel" type="number" min="1" max="7" value="4" style="width:86px" />
          </div>
          <div class="row">
            <label for="intSel">Interval</label>
            <select id="intSel"></select>
          </div>
          <div class="row">
            <label for="wave">Wave</label>
            <select id="wave">
              <option>sine</option>
              <option>triangle</option>
              <option>square</option>
              <option>sawtooth</option>
            </select>
          </div>
          <div class="row" style="min-width:190px;">
            <label for="volume">Volume</label>
            <input id="volume" type="range" min="0" max="1" step="0.01" value="0.6" style="width:120px;">
          </div>
          <div class="row">
            <button id="plantBtn" class="primary">Plant interval</button>
          </div>
          <div class="row">
            <label class="hint"><input id="earMode" type="checkbox" /> Ear training mode (hide labels)</label>
          </div>
          <div class="row">
            <button id="quizBtn" title="Play a random planted interval">Quiz: Play random</button>
            <select id="quizGuess"></select>
            <button id="revealBtn">Reveal</button>
            <span id="quizMsg" class="hint" aria-live="polite"></span>
          </div>
        </div>
        <div class="hint">Tip: Click any pair in the garden to hear it. Drag to nudge the wind.</div>
      </div>
    </details>

    <section class="garden" aria-label="Intervals garden">
      <div class="canvas-wrap" id="canvasWrap">
        <canvas id="gardenCanvas"></canvas>
      </div>
      <div class="legend" id="legend"></div>
    </section>

    <p class="hint">All your plants live in this device (localStorage). No backend. Minimal DSP envelope for gentle sound.</p>

    <footer>
      <a class="btn" href="https://buymeacoffee.com/Contumance" target="_blank" rel="noopener noreferrer"
         aria-label="Support this library on Buy Me a Coffee">
        <svg class="btn-icon" viewBox="0 0 24 24" aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <path d="M4 8h14.5a2 2 0 0 1 0 4H18l-1 5a4 4 0 0 1-3.95 3.3H8.95A4 4 0 0 1 5 17l-1-9z"/>
          <path d="M3 8h17"/>
          <path d="M7 4h6"/>
        </svg>
        <span>Buy me a coffee</span>
      </a>
      <span class="note">Fuel the craft. Inspire the next page.</span>
      <span>¬© <span id="y"></span> Re:sonance <small class="byline">by <em>Contumance</em></small></span>
    </footer>
  </main>

  <!-- Theme toggle -->
  <script>
    (function(){
      const KEY='theme-preference';
      const root=document.documentElement;
      const btn=document.getElementById('themeToggle');
      function setIcon(){ btn.textContent='‚óë'; }
      function apply(mode){ root.classList.toggle('theme-dark', mode==='dark'); setIcon(); }
      function getPreferred(){
        const saved=localStorage.getItem(KEY);
        if(saved==='light'||saved==='dark') return saved;
        return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark':'light';
      }
      let current=getPreferred(); apply(current);
      btn.addEventListener('click',()=>{ current=current==='dark'?'light':'dark'; localStorage.setItem(KEY,current); apply(current); });
      document.getElementById('y').textContent = new Date().getFullYear();
    })();
  </script>

  <!-- Intervals Garden -->
  <script>
  (function(){
    // ======= Music helpers =======
    const NOTES_SHARP = ["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];
    const INTERVALS = [
      ["Unison",0],["m2",1],["M2",2],["m3",3],["M3",4],["P4",5],
      ["TT (tritone)",6],["P5",7],["m6",8],["M6",9],["m7",10],["M7",11],["Octave",12]
    ];
    // Perceived ‚Äútension‚Äù (0=calm,1=tense). Used for HSL saturation and pulse.
    const TENSION = {0:0.05,1:0.9,2:0.8,3:0.6,4:0.4,5:0.35,6:1.0,7:0.2,8:0.65,9:0.45,10:0.75,11:0.85,12:0.08};

    function midiToFreq(m){ return 440 * Math.pow(2, (m-69)/12); }
    function noteToMidi(name,oct){ const pc=NOTES_SHARP.indexOf(name); return (oct+1)*12 + (pc<0?0:pc); }
    function clamp(n,a,b){ return Math.min(b,Math.max(a,n)); }

    // Color mapping: hue by semitones, saturation by tension, lightness by theme.
    function intervalColor(semitones, isDark){
      const hue = (semitones % 12) * (360/12);
      const t = TENSION[semitones] ?? 0.5;
      const sat = Math.round(30 + t*55); // 30‚Äì85%
      const light = Math.round(isDark ? (60 - t*18) : (65 - t*10)); // dark a poco m√°s brillante
      return `hsl(${hue} ${sat}% ${light}%)`;
    }

    // ======= Audio engine =======
    const Audio = (function(){
      let ctx, master, wave = 'sine';
      function ensure(){
        if(ctx) return;
        ctx = new (window.AudioContext||window.webkitAudioContext)();
        master = ctx.createGain(); master.gain.value = state.volume; master.connect(ctx.destination);
      }
      function setWave(w){ wave = w; }
      function setVolume(v){ if(master) master.gain.value = v; }
      function playTwo(freq1, freq2, dur=1.2, vel=0.9){
        ensure(); if(ctx.state==="suspended") ctx.resume();
        const t = ctx.currentTime;
        const o1 = ctx.createOscillator(), o2 = ctx.createOscillator();
        const g  = ctx.createGain();
        o1.type = wave; o2.type = wave;
        o1.frequency.setValueAtTime(freq1, t);
        o2.frequency.setValueAtTime(freq2, t);
        g.gain.setValueAtTime(0, t);
        g.gain.linearRampToValueAtTime(vel, t+0.01);
        g.gain.linearRampToValueAtTime(vel*0.7, t+0.12);
        g.gain.setTargetAtTime(0.0001, t+dur, 0.15);
        o1.connect(g); o2.connect(g); g.connect(master);
        o1.start(t); o2.start(t); o1.stop(t+dur+0.5); o2.stop(t+dur+0.5);
      }
      return { setWave, setVolume, playTwo };
    })();

    // ======= State & DOM =======
    const LS_KEY = "intervals_garden_v1";
    const state = {
      root:"C", octave:4, interval:7, wave:"sine", volume:0.6,
      ear:false, items:[]
    };
    try{ const s = JSON.parse(localStorage.getItem(LS_KEY)||"null"); if(s) Object.assign(state,s); }catch(e){}

    const rootSel = document.getElementById('rootSel');
    const octSel  = document.getElementById('octSel');
    const intSel  = document.getElementById('intSel');
    const waveSel = document.getElementById('wave');
    const vol     = document.getElementById('volume');
    const plantBtn= document.getElementById('plantBtn');
    const earMode = document.getElementById('earMode');
    const legend  = document.getElementById('legend');
    const quizBtn = document.getElementById('quizBtn');
    const quizGuess = document.getElementById('quizGuess');
    const revealBtn = document.getElementById('revealBtn');
    const quizMsg = document.getElementById('quizMsg');

    // Populate selects
    rootSel.innerHTML = NOTES_SHARP.map(n=>`<option>${n}</option>`).join('');
    intSel.innerHTML  = INTERVALS.map(([n,se])=>`<option value="${se}">${n} (${se})</option>`).join('');
    quizGuess.innerHTML = INTERVALS.map(([n,se])=>`<option value="${se}">${n}</option>`).join('');
    rootSel.value = state.root; octSel.value = state.octave;
    intSel.value  = state.interval; waveSel.value = state.wave; vol.value = state.volume;
    earMode.checked = !!state.ear;

    function save(){ localStorage.setItem(LS_KEY, JSON.stringify(state)); }

    // ======= Canvas & scene =======
    const wrap = document.getElementById('canvasWrap');
    const canvas = document.getElementById('gardenCanvas');
    const ctx2d = canvas.getContext('2d');

    let W=0,H=0, dpr=1, animId=null, mouse=null, quizCurrent=null;
    function resize(){
      dpr = Math.max(1, Math.min(2, window.devicePixelRatio||1));
      W = wrap.clientWidth; H = wrap.clientHeight;
      canvas.width = Math.floor(W*dpr);
      canvas.height= Math.floor(H*dpr);
      canvas.style.width = W+"px"; canvas.style.height = H+"px";
      ctx2d.setTransform(dpr,0,0,dpr,0,0);
    }
    resize();
    window.addEventListener('resize', ()=>{ clearTimeout(resize._t); resize._t=setTimeout(resize,120) });

    // Garden items: each is a planted interval
    // {id, root, octave, semi, x,y, vx,vy, phase}
    function randomXY(){ return [Math.random()*W, Math.random()*H]; }
    function rand(min,max){ return min + Math.random()*(max-min); }

    // Create legend (chips for quick reference)
    function renderLegend(){
      const isDark = document.documentElement.classList.contains('theme-dark');
      legend.innerHTML = "";
      INTERVALS.forEach(([name,se])=>{
        const chip=document.createElement('span'); chip.className='chip'; chip.title=`${name}`;
        const dot=document.createElement('i'); dot.className='dot';
        dot.style.background = intervalColor(se, isDark);
        const label=document.createElement('span'); label.textContent = name;
        chip.appendChild(dot); chip.appendChild(label);
        legend.appendChild(chip);
      });
    }
    renderLegend();
    const obs = new MutationObserver(renderLegend);
    obs.observe(document.documentElement,{attributes:true,attributeFilter:['class']});

    // Load saved items (give them positions/vel if missing)
    if(Array.isArray(state.items)){
      state.items.forEach(it=>{
        if(typeof it.x!=='number'||typeof it.y!=='number'){ [it.x,it.y]=randomXY(); }
        if(typeof it.vx!=='number'){ it.vx=rand(-0.25,0.25); it.vy=rand(-0.25,0.25); }
        if(typeof it.phase!=='number'){ it.phase=Math.random()*Math.PI*2; }
      });
    } else state.items = [];

    function plant(root,octave,semitones){
      const [x,y]=randomXY();
      const item = {
        id:Date.now()+"_"+Math.random().toString(16).slice(2),
        root, octave, semi:semitones,
        x,y, vx:rand(-0.25,0.25), vy:rand(-0.25,0.25),
        phase: Math.random()*Math.PI*2
      };
      state.items.push(item); save();
      return item;
    }

    // ======= Interaction =======
    wrap.addEventListener('pointerdown', e=>{
      const rect = canvas.getBoundingClientRect();
      mouse = {x:e.clientX-rect.left, y:e.clientY-rect.top, down:true};
      // Select nearest item to play if close
      const hit = nearestItem(mouse.x, mouse.y, 36);
      if(hit){ playItem(hit); hit.phase += 0.7; } // little pulse
    });
    window.addEventListener('pointermove', e=>{
      if(!mouse||!mouse.down) return;
      // Nudge wind direction a bit with drag
      const dx = (e.movementX||0)*0.05, dy = (e.movementY||0)*0.05;
      state.items.forEach(it=>{ it.vx = clamp(it.vx+dx,-0.7,0.7); it.vy = clamp(it.vy+dy,-0.7,0.7); });
    });
    window.addEventListener('pointerup', ()=>{ if(mouse) mouse.down=false; });

    function nearestItem(x,y,thr=40){
      let best=null, bestD=Infinity;
      state.items.forEach(it=>{
        const [x1,y1] = notePos(it, true);
        const [x2,y2] = notePos(it, false);
        const cx=(x1+x2)/2, cy=(y1+y2)/2;
        const d=Math.hypot(x-cx,y-cy);
        if(d<bestD && d<=thr) { best=it; bestD=d; }
      });
      return best;
    }

    function playItem(it){
      const m1 = noteToMidi(it.root, it.octave);
      const m2 = m1 + it.semi;
      Audio.playTwo(midiToFreq(m1), midiToFreq(m2), 1.2, 0.9);
    }

    // ======= Drawing =======
    function themeIsDark(){ return document.documentElement.classList.contains('theme-dark'); }
    function cssVar(name, fallback){ const v=getComputedStyle(document.documentElement).getPropertyValue(name).trim(); return v||fallback; }

    function notePos(it, lower){
      // Two petals separated by vector based on interval size
      const baseR = 22 + Math.min(18, it.semi*1.1);
      const angle = (it.phase*0.3) % (Math.PI*2);
      const dx = Math.cos(angle) * baseR;
      const dy = Math.sin(angle) * baseR;
      return lower ? [it.x - dx, it.y - dy] : [it.x + dx, it.y + dy];
    }

    function draw(){
      const isDark = themeIsDark();
      const paper = cssVar('--paper','#f5f1e8');
      const ink   = cssVar('--ink','#2f2a1e');
      const rule  = cssVar('--rule','#d8d2c2');

      ctx2d.clearRect(0,0,W,H);

      // Gentle background grid dots (very subtle)
      ctx2d.save();
      ctx2d.globalAlpha = 0.06;
      ctx2d.strokeStyle = rule; ctx2d.lineWidth = 1;
      ctx2d.restore();

      // Animate & draw plants
      state.items.forEach(it=>{
        // Move
        it.x += it.vx; it.y += it.vy;
        // Bounce on edges
        if(it.x<24||it.x>W-24) it.vx*=-1;
        if(it.y<24||it.y>H-24) it.vy*=-1;
        // Slow wind drag
        it.vx *= 0.999; it.vy *= 0.999;
        it.phase += 0.01 + TENSION[it.semi]*0.01;

        const col = intervalColor(it.semi, isDark);
        const [x1,y1]=notePos(it,true);
        const [x2,y2]=notePos(it,false);
        const cx=(x1+x2)/2, cy=(y1+y2)/2;

        // stem
        ctx2d.beginPath();
        ctx2d.moveTo(x1,y1); ctx2d.lineTo(x2,y2);
        ctx2d.strokeStyle = isDark? 'rgba(219,214,201,.35)':'rgba(47,42,30,.35)';
        ctx2d.lineWidth = 1.2;
        ctx2d.stroke();

        // nodes
        const beatHz = Math.abs(midiToFreq(noteToMidi(it.root,it.octave+1))-midiToFreq(noteToMidi(it.root,it.octave+1)+it.semi));
        const pulse = 1 + Math.min(6, beatHz*0.02) * Math.sin(it.phase*2);
        const rBase = 7 + Math.min(16, it.semi*0.9);

        ctx2d.fillStyle = col;
        ctx2d.strokeStyle = isDark? 'rgba(255,255,255,.25)':'rgba(0,0,0,.25)';
        ctx2d.lineWidth = 1;

        // lower
        ctx2d.beginPath();
        ctx2d.arc(x1,y1, rBase*0.9 * pulse/1.5, 0, Math.PI*2);
        ctx2d.fill(); ctx2d.stroke();

        // upper
        ctx2d.beginPath();
        ctx2d.arc(x2,y2, rBase * pulse/1.5, 0, Math.PI*2);
        ctx2d.fill(); ctx2d.stroke();

        // label (hidden in ear mode)
        if(!state.ear){
          ctx2d.fillStyle = isDark? 'rgba(255,255,255,.9)':'rgba(0,0,0,.8)';
          ctx2d.font = '12px ui-serif, Georgia, serif';
          ctx2d.textAlign='center'; ctx2d.textBaseline='middle';
          const name = INTERVALS.find(x=>x[1]===it.semi)?.[0] || it.semi+"st";
          ctx2d.fillText(`${it.root}${it.octave} ‚Üí ${name}`, cx, cy-20);
        }
      });

      animId = requestAnimationFrame(draw);
    }
    animId = requestAnimationFrame(draw);

    // ======= Controls =======
    rootSel.addEventListener('change', ()=>{ state.root=rootSel.value; save(); });
    octSel.addEventListener('change', ()=>{ state.octave=clamp(parseInt(octSel.value||4,10),1,7); octSel.value=state.octave; save(); });
    intSel.addEventListener('change', ()=>{ state.interval=parseInt(intSel.value,10); save(); });
    waveSel.addEventListener('change', ()=>{ state.wave=waveSel.value; save(); Audio.setWave(state.wave); });
    vol.addEventListener('input', ()=>{ state.volume=parseFloat(vol.value); save(); Audio.setVolume(state.volume); });
    earMode.addEventListener('change', ()=>{ state.ear=earMode.checked; save(); });

    plantBtn.addEventListener('click', ()=>{
      const it = plant(state.root, state.octave, state.interval);
      save();
      playItem(it);
    });

    // Quiz
    quizBtn.addEventListener('click', ()=>{
      if(!state.items.length){ quizMsg.textContent="Plant something first."; return; }
      quizCurrent = state.items[(Math.random()*state.items.length)|0];
      playItem(quizCurrent);
      quizMsg.textContent = "Listening‚Ä¶ choose the interval, then Reveal.";
    });
    revealBtn.addEventListener('click', ()=>{
      if(!quizCurrent){ quizMsg.textContent="Press Play random first."; return; }
      const guess = parseInt(quizGuess.value,10);
      if(guess === quizCurrent.semi){
        quizMsg.textContent = "‚úî Correct: " + (INTERVALS.find(i=>i[1]===guess)?.[0]||guess);
      }else{
        const right = INTERVALS.find(i=>i[1]===quizCurrent.semi)?.[0]||quizCurrent.semi;
        quizMsg.textContent = "‚úñ Not quite. It was " + right + ".";
      }
      quizCurrent = null;
    });

    // Keyboard: space to quiz play, P to plant
    window.addEventListener('keydown', (e)=>{
      if(e.key===' '){ e.preventDefault(); quizBtn.click(); }
      if(e.key==='p' || e.key==='P'){ plantBtn.click(); }
    });

  })();
  </script>
</body>
</html>